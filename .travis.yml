os:
- linux
language: ruby
rvm:
  - 2.2
sudo: false
addons:
  apt:
    sources:
    - ubuntu-toolchain-r-test
    packages:
    - libstdc++6
    - fonts-droid-fallback
before_script:
- git clone https://github.com/flutter/flutter.git -b beta
- "./flutter/bin/flutter doctor"
script:
- "./flutter/bin/flutter config --enable-web"
- "./flutter/bin/flutter build web"
cache:
  directories:
  - "$HOME/.pub-cache"
before_deploy:
  - rvm 2.2 do gem install aws-sdk -v 2.1.36
deploy:
  provider: s3
  access_key_id: AKIAQCNXY2QF7UDRZKG2
  secret_access_key:
    secure: Nt/7VMNs6TO/9+f+WgTJ5mElsm/n/DPHMnbRNtIBlwdm65Az2oMyWT0eCoQkurAPKLVT5W9pX/J3q3AeQFMR5XyH2emgC5zhOYjpvcMasb6bN64eXrxPv01kosbz3Au1h5rrRTSTL26Gt0cse8tQ+1Eqn0QTgo4jlqHRAy4TBKq0b35Kq02nJBJnpMfNxOGtQTCk+VT4spylu8Jg8BF+M/7G/Kn88tAX5wFnRYwcpwmVTb0c5Bhga36iTkD1LVROsNoymMagTifJ3oKp8WtJwdiu4TEo185/sAbo6mt/KDm7+rWk1xt/Quu4WCugfxbdBvbx1pdj6Pdj1OlXdfC7VvxQAno7nEGS4ZBWM8gGcU7zhuL1CRjGZ62TXCx620D9PaQkmdtZpLMC0Fu1j9eJ4nFICG9JSBm2UbznDh6ahPJtEDdEpUKXDDbl8m9cfuW6EGjdQRBa9p9RHwyEGahabjYBSdaWRCC38LLpAglqO8PUxxO/hgtVxTPQha0iPZAQicLuPRlSL4KvKte7fEBc25CTv7O0DA8tzaH5LvKXOO96laYIAA8PsSovtaKrrfv9C7dCXdCNbOzVcXlGZ80YhGgNm5+mBbdL/czi24vFNzgj90t2aeKTypPxJltqFrw7QzTMhlG57Obi3Bd+WbwFSJqjAG7zqHJpWaHqYjP6lqs=
  bucket: www.itluobo.com
  acl: public_read
  on:
    repo: kenvifire/blog_flutter
  skip_cleanup: 'true'
  region: us-west-2
  local_dir: build/web
